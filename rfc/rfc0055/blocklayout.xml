<?xml version="1.0" encoding="UTF-8"?>
<section xmlns:ed="http://greenbytes.de/2002/rfcedit" anchor="blocklayout" title="&lt;xar:blocklayout /&gt;">
  <t>
    The &lt;xar:blocklayout /&gt; tag is the root-tag of a
    blocklayout complete template. With a <spanx>complete</spanx>
    template we mean the assembly of the page level template,
    the relevant module templates and all other template
    snippets necessary to construct the complete template for
    a particular request.
  </t>
  <t>
    Note that this complete template does not (yet) exist in
    one piece anywhere, it is assembled from the several
    templates applicable for a certain request.
  </t>
  <t>
    A root tag is required in each valid XML document and can
    occur only once. For Xaraya this means the
    &lt;xar:blocklayout /&gt; tag occurs in a page template
    only; once as opening tag at or near the beginning of the
    template and once as closing tag at the end of the page
    template.
  </t>
  <ed:del>
    <section title="Forms">
      <t>This tag only has an open form</t>
    </section>
  </ed:del>
  <section title="Attributes">
    <t>
      <list>
        <t><spanx style="strong">version</spanx>
        <t>
          required attribute. At the moment of writing
          blocklayout is at version <ed:del>1</ed:del><ed:ins>2</ed:ins>.0 or below<ed:del>, since we
          are still in beta.</ed:del> When new versions of the
          blocklayout language are released this attribute
          is used for compatability issues. The version
          number indicates what version of the blocklayout
          syntax to expect in the templates.
        </t>
        </t>
        <t><spanx>[content]</spanx>(text/html)
        <t>
          The content attribute denotes the type of content the page template describes. The
          value of this attribute is a legal string according to the IETF RFC describing
          mime-types. The default content type is "text/html"
        </t>
        <t>
          The complete MIME type functionality is described in several IETF RFCs. The most
          relevant one for this RFC is: http://www.ietf.org/rfc/rfc2046.txt There are a large
          number of content types which can be specified. The most relevant ones for blocklayout
          are in the 'text' type of content. Examples:
          <list>
            <t>text/html  - plain old html</t>
            <t>text/plain - plain text</t>
            <t>text/xml   - xml data</t>
            <t>application/vnd.mozilla.xul+xml - more complicated mime type, identifying a xul document.</t>
          </list>
        </t>
        <t>
          In theory, blocklayout could support any mimetype,
          but the text and application types will be the two
          types, with their respective subtypes which will
          be used most frequently
        </t>
        </t>
        <t><spanx>xmlns:xar</spanx>
        <t>declaration of the xar namespace. As we currently hardcode the namespace this
        attribute can only have the value:
        <artwork>xmlns:xar="http://xaraya.com/2004/blocklayout"</artwork>
        </t>
        <ed:issue type="question" status="open"  name="namespace attribute value">
          <ed:item entered-by="mrb" date="2006-01-31">
            Should we change the xmlns attribute for version
            2.0?
          </ed:item>
        </ed:issue>
        </t>
        <t><spanx>[dtd]</spanx>()
        <t>
          The dtd attribute tells BlockLayout what type of
          document it should produce. Your BL template as
          such should NOT contain a DOCTYPE tag for
          reproduction in the output (although it will copy
          it to the output unmodified). The doctype of the
          (page-)template should be <spanx>before</spanx> the root
          tag and it should be:
          <ed:del>
            <artwork>
&lt;!DOCTYPE blocklayout PUBLIC "-//XAR//DTD BL 1.0 Strict//EN" "http://xaraya.com/bl1/DTD/bl1-strict.dtd"&gt;
            </artwork>
          </ed:del>
          <ed:ins>
            <artwork>
&lt;!DOCTYPE blocklayout PUBLIC "-//XAR//DTD BL 2.0 Strict//EN" "http://xaraya.com/bl2/DTD/bl2-strict.dtd"&gt;
            </artwork>
          </ed:ins>
        </t>
        <t>
          The possible values for the dtd attribute are the valid document types listed at w3.org. The corresponding values 
          and what will be produced in the output document are as follows:
          <artwork>
 'html2'                : '&lt;!DOCTYPE html PUBLIC "-//IETF//DTD HTML 2.0//EN"&gt;',
 'html32'               : '&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN"&gt;',
 'html401-strict'       : '&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"  "http://www.w3.org/TR/html4/strict.dtd"&gt;',
 'html401-transitional' : '&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  "http://www.w3.org/TR/html4/loose.dtd"&gt;',
 'html401-frameset'     : '&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Frameset//EN"  "http://www.w3.org/TR/html4/frameset.dtd"&gt;',
 'xhtml1-strict'        : '&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"&gt;',
 'xhtml1-transitional'  : '&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;',
 'xhtml1-frameset'      : '&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Frameset//EN"  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-frameset.dtd"&gt;',
 'xhtml11'              : '&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"&gt;',
 'mathml101'            : '&lt;!DOCTYPE math SYSTEM "http://www.w3.org/Math/DTD/mathml1/mathml.dtd"&gt;',
 'mathml2'              : '&lt;!DOCTYPE math PUBLIC "-//W3C//DTD MathML 2.0//EN" "http://www.w3.org/TR/MathML2/dtd/mathml2.dtd"&gt;',
 'svg10'                : '&lt;!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.0//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd"&gt;',
 'svg11'                : '&lt;!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"&gt;',
 'svg11-basic'          : '&lt;!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1 Basic//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11-basic.dtd"&gt;',
 'svg11-tiny'           : '&lt;!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1 Tiny//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11-tiny.dtd"&gt;',
 'xhtml-math-svg'       : '&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1 plus MathML 2.0 plus SVG 1.1//EN" "http://www.w3.org/2002/04/xhtml-math-svg/xhtml-math-svg.dtd"&gt;',
 'svg-xhtml-math'       : '&lt;!DOCTYPE svg:svg PUBLIC  "-//W3C//DTD XHTML 1.1 plus MathML 2.0 plus SVG 1.1//EN" "http://www.w3.org/2002/04/xhtml-math-svg/xhtml-math-svg.dtd"&gt;'
          </artwork>
        </t>
        <t>  
          At this point, there is no flexible mechanism to add other (valid) DTD specifiers, but to add them in the code.
        </t>
        </t>                   
      </list>
    </t>
  </section>
  <section title="Syntax examples">
    <t>
      <ed:del>
        <artwork><![CDATA[
<?xml version="1.0" encoding="utf-8"?>
<xar:blocklayout version="1.0" content="text/html" xmlns:xar="http://www.xaraya.com/2004/blocklayout" dtd="xhtml1-strict">
  <!-- Rest of the page level template goes here -->
</xar:blocklayout>]]>
        </artwork>
      </ed:del>
      <ed:ins>
        <artwork><![CDATA[
<?xml version="1.0" encoding="utf-8"?>
<xar:blocklayout version="2.0" content="text/html" xmlns:xar="http://www.xaraya.com/2004/blocklayout" dtd="xhtml1-strict">
  <!-- Rest of the page level template goes here -->
</xar:blocklayout>]]>
        </artwork>
      </ed:ins>
    </t>
  </section>
  <section title="Context">
    <t>
      This tag is the root tag of the blocklayout language, it has no parent tags and all other
      tags are children of this tag.
    </t>
  </section>
</section>
