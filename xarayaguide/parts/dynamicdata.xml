<?xml version="1.0" encoding="UTF-8"?>
<chapter id="dynamicdata">
  <title>Dynamic Data in Xaraya</title>

  <para>Xaraya provides the ability for site administrators to add data fields
  to the site to serve a number of different purposes, from extending the
  basic Xaraya configuration to adding completely new features. Using
  <firstterm>Dynamic Data</firstterm>, fields can be added and manipulated on
  the site. This ability is available through Dynamic Data, which can be
  considered 'building blocks' for data manipulation on the site.</para>

  <para>With other Content Management Systems products, if you wanted to
  display Recipes on your site, for example, you had to wait for a Recipes
  module to be developed and then hope it met your needs. As a Content
  Management System, Xaraya is capable of showing almost any data in almost
  any way that you desire -- usually without the need to develop (or wait for)
  an external module. No more waiting for someone else to create a guestbook;
  no more waiting for someone else to develop that recipe module; no more
  waiting for someone to add categories to the reviews module; no more waiting
  for a module to display portraits or additional information in user
  information screens. Xaraya gives the site administrator the power to be
  self-sufficient and the flexibility to extend Xaraya -- without coding.
  Dynamic Data allows Xaraya's site administrators to customize Xaraya
  specifically for their needs.</para>

  <para>Using Dynamic Data, site administrators can add fields to Xaraya that
  customize the site.</para>

  <sect1 id="ddintro">
    <title>Introduction to Dynamic Data</title>

    <para>Here's a general overview illustrating how to add dynamic data to a
    Xaraya module:</para>

    <itemizedlist>
      <listitem>
        <para>Enable the Dynamic Data HOOK for the module you wish to
        extend</para>
      </listitem>

      <listitem>
        <para>Create the Dynamic Data OBJECT via the hook</para>
      </listitem>

      <listitem>
        <para>OTTO: * Define how the Dynamic Data object is DISPLAYED</para>
      </listitem>
    </itemizedlist>

    <sect2>
      <title>EXAMPLE: Dynamic Data: Adding a Picture to User Info</title>

      <para>For a specific example, we'll add a picture to user's information
      on the site. The user's picture file must be accessible via the web;
      this feature does not allow the uploading of picture. Let's walk through
      the steps to set this up...</para>

      <itemizedlist>
        <listitem>
          <para>Enable the Dynamic Data HOOK for the module you wish to
          extend</para>

          <para>The first thing to do is to enable the dynamic data hook for
          the module you wish to extend. For this example, we wish to extend
          the roles module. To enable Dynamic Data for the roles module,
          follow these steps:</para>

          <itemizedlist>
            <listitem>
              <para>Go to <command>Admin-&gt;Modules-&gt;Configure
              Hooks</command></para>
            </listitem>

            <listitem>
              <para>Click "<guibutton>dynamicdata</guibutton>"</para>
            </listitem>

            <listitem>
              <para>CHECK the box next to '<guibutton>roles</guibutton>' to
              enable Dynamic Data for the roles module</para>
            </listitem>

            <listitem>
              <para>Click "<guibutton>Save Changes</guibutton>"</para>
            </listitem>
          </itemizedlist>
        </listitem>

        <listitem>
          <para>Create the Dynamic Data OBJECT</para>

          <para>Now we need to create the dynamic data object that will hold
          the picture information for the roles module. To do this:</para>

          <itemizedlist>
            <listitem>
              <para>Go to <command>Admin-&gt;Roles-&gt;Modify
              Config</command></para>
            </listitem>

            <listitem>
              <para>Under "<guibutton>User Hooks</guibutton>", click on
              "<guibutton>modify link</guibutton>" for the Dynamic Data
              Fields</para>
            </listitem>
          </itemizedlist>


            <para>You are now in the Dynamic Data module at the Modify Dynamic
            Properties tab. We will create now the image field, a socalled
            property.</para>
          <itemizedlist>
            <listitem>
              <para>Data Source: keep this to dynamic_data. This is the
              location the information will be stored</para>
            </listitem>

            <listitem>
              <para>In Label, type "My Picture" (or whatever text you want
              displayed to your users)</para>
            </listitem>

            <listitem>
              <para>In Property Type, select "<guibutton>Image</guibutton>"
              from the drop-down list.</para>
            </listitem>

            <listitem>
              <para>Leave Default and Validation empty.</para>
            </listitem>

            <listitem>
              <para>In status select "<guibutton>Display Only</guibutton>".
              This will stop it showing in the membership list but will still
              make it visible in the user info.</para>
            </listitem>

            <listitem>
              <para>Click "<guibutton>Update Properties</guibutton>" to save
              changes.</para>
            </listitem>
          </itemizedlist>

          <para>You are returned to a similar-looking screen with your new
          Dynamic Data object displayed. Your Dynamic Data object has been
          added.</para>
        </listitem>

        <listitem>
          <para>Adding a picture to your user info</para>

          <para>You'll need a picture that is accessible via the web to add a
          picture to your user info. To add the picture, follow these
          steps:</para>

          <itemizedlist>
            <listitem>
              <para>As Administrator, go to <command>Main
              Menu-&gt;Modules-&gt;Roles</command> (NOTE: Do
              <emphasis>NOT</emphasis> click
              <command>Admin-&gt;Roles</command> for this option, as you will
              return then to the admin area of roles).</para>
            </listitem>

            <listitem>
              <para>Click "<guibutton>Your Details</guibutton>".</para>
            </listitem>

            <listitem>
              <para>Add the URL of your picture to the "<guibutton>My
              Picture</guibutton>" field. Be sure it begins with
              "<userinput>http://</userinput>" unless the picture is on your
              local webserver.</para>
            </listitem>

            <listitem>
              <para>Click "<guibutton>Submit</guibutton>".</para>
            </listitem>
          </itemizedlist>
        </listitem>

        <listitem>
          <para>Viewing the picture</para>

          <para>There are two ways to do this. Once you've added your
          picture's URL click the "<guibutton>show</guibutton>" link next to
          it in "<guibutton>Your Basic Details</guibutton>", or click on the
          user's name in the membership list.</para>
        </listitem>
      </itemizedlist>
    </sect2>

    <sect2>
      <title>KNOWLEDGE REVIEW: Dealing with Dynamic Data</title>

      <para>OTTO</para>
    </sect2>
  </sect1>
</chapter>