<xar:comment> License: GPL http://www.gnu.org/copyleft/gpl.html </xar:comment>
<div class="xar-form-input-wrapper">
    <label class="xar-form-label">
        <xar:mlstring>Predefined:</xar:mlstring>
    </label>
    <div class="xar-form-container-after">
        <xar:if condition="empty($static)">
            <xar:set name="static">0</xar:set>
        </xar:if>
        <xar:ml><xar:mlstring>#(1) options</xar:mlstring><xar:mlvar>#$static#</xar:mlvar></xar:ml>
    </div>
</div>

<div class="xar-form-input-wrapper">
    <label for="#$id#_func" class="xar-form-label">
        <xar:mlstring>Function:</xar:mlstring>
    </label>
    <div class="xar-form-container-after">
        <input type="text" name="#$name#[func]" id="#$id#_func" value="#$func#" size="40" />
        <p>
            <xar:mlstring>Get a list of id =&gt; name options via API function call</xar:mlstring>
            <br/>
            <xar:mlstring>Syntax : xarModAPIFunc(...)</xar:mlstring>
        </p>
    </div>
</div>

<xar:if condition="!empty($func)">
    <div class="xar-form-input-wrapper">
        <label for="#$id#_itemfunc" class="xar-form-label">
            <xar:mlstring>Function:</xar:mlstring>
        </label>
        <div class="xar-form-container-after">
            <input type="text" name="#$name#[itemfunc]" id="#$id#_itemfunc" value="#$itemfunc#" size="40" />
            <p>
              <xar:mlstring>Get/check a single option with id = $value via API</xar:mlstring>
              <br/>
              <xar:mlstring>Syntax : xarModAPIFunc(..., array(... => $value))</xar:mlstring>
            </p>
        </div>
    </div>
</xar:if>

<div class="xar-form-input-wrapper">
    <label for="#$id#_file" class="xar-form-label">
        <xar:mlstring>File:</xar:mlstring>
    </label>
    <div class="xar-form-container-after">
        <input type="text" name="#$name#[file]" id="#$id#_file" value="#$file#" size="40" />
        <p>
            <xar:mlstring>File, located relative to index.php, containing one option per line formatted as either (no trailing ";"):</xar:mlstring>
        </p>
        <code><xar:mlstring>name1</xar:mlstring></code>
        <p><xar:mlstring>Or</xar:mlstring></p>
        <code><xar:mlstring>id1,name1</xar:mlstring></code>
    </div>
</div>

<div class="xar-form-input-wrapper">
    <label class="xar-form-label">
        <xar:mlstring>Options:</xar:mlstring>
    </label>
    <div class="xar-form-container-after">
        <xar:set name="idx">0</xar:set>
        <table>
        <thead>
            <tr>
                <th>
                    <xar:mlstring>Value</xar:mlstring>
                </th>
                <th>
                    <xar:mlstring>Option Text</xar:mlstring>
                </th>
            </tr>
        </thead>
        <tbody>
        <xar:foreach in="$options" value="$option" >
            <tr>
                <xar:if condition="$option['id'] ne $option['name']">
                    <td>
                        <input type="text" name="#$name#[options][#$idx#][id]" id="#$id#_options_#$idx#_id" value="#$option['id']#" size="5" />
                    </td>
                    <td>
                        <input type="text" name="#$name#[options][#$idx#][name]" id="#$id#_options_#$idx#_name" value="#$option['name']#" size="30" />
                    </td>
                <xar:else />
                    <td colspan="2">
                        <input type="text" name="#$name#[options][#$idx#][name]" id="#$id#_options_#$idx#_id" value="#$option['name']#" size="40" />
                    </td>
                </xar:if>
                <xar:set name="idx">$idx+1</xar:set>
            </tr>
        </xar:foreach>
        <tr>
            <td>
                <input type="text" name="#$name#[options][#$idx#][id]" id="#$id#_options_#$idx#_id" value="" size="5" />
            </td>
            <td>
                <input type="text" name="#$name#[options][#$idx#][name]" id="#$id#_options_#$idx#_name" value="" size="30" />
            </td>
            </tr>
            </tbody>
        </table>
        <p class="xar-margin-nonetop">
            <xar:mlstring>Specify your own id =&gt; name options here</xar:mlstring>
        </p>
    </div>
</div>

<div class="xar-form-input-wrapper">
    <label class="xar-form-label">
        <xar:mlstring>Override:</xar:mlstring>
    </label>
    <div class="xar-form-container-after">
      <xar:if condition="empty($override)">
        <xar:mlstring>no</xar:mlstring>
      <xar:else/>
        <xar:mlstring>yes</xar:mlstring>
      </xar:if>
    </div>
</div>

<div class="xar-form-input-wrapper">
    <label for="#$id#_other" class="xar-form-label">
        <xar:mlstring>Other rule:</xar:mlstring>
    </label>
    <div class="xar-form-container-after">
      <input type="text" name="#$name#[other]" id="#$id#_other" value="#$other#" size="40" />
    </div>
</div>
<xar:if condition="!empty($invalid)">
<div>
    <span class="xar-error">#$invalid#</span>
</div>
</xar:if>
